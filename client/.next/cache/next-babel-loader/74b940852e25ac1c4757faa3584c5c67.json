{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\mca6\\\\aws_react\\\\client\\\\pages\\\\user\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/Layout';\nimport axios from 'axios';\nimport { API } from '../../config';\nimport { getCookie } from '../../helpers/auth';\n\nconst User = ({\n  user\n}) => __jsx(Layout, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 28\n  }\n}, JSON.stringify(user));\n\n_c = User;\n\nUser.getInitialProps = async () => {\n  const token = getCookie('token');\n\n  try {\n    const response = await axios.get(`${API}/user`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n        contentType: 'application/json'\n      }\n    });\n    return {\n      user: response.data\n    };\n  } catch (error) {\n    if (error.response.status === 401) {\n      return {\n        user: 'no user'\n      };\n    }\n  }\n};\n\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["D:/react/mca6/aws_react/client/pages/user/index.js"],"names":["Layout","axios","API","getCookie","User","user","JSON","stringify","getInitialProps","token","response","get","headers","authorization","contentType","data","error","status"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,QAAkB,cAAlB;AACA,SAAQC,SAAR,QAAwB,oBAAxB;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAASC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAT,CAA3B;;KAAMD,I;;AAENA,IAAI,CAACI,eAAL,GAAuB,YAAW;AAC9B,QAAMC,KAAK,GAAGN,SAAS,CAAC,OAAD,CAAvB;;AAEA,MAAG;AACC,UAAMO,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAW,GAAET,GAAI,OAAjB,EAAyB;AAC5CU,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASJ,KAAM,EAD1B;AAELK,QAAAA,WAAW,EAAE;AAFR;AADmC,KAAzB,CAAvB;AAMJ,WAAO;AAACT,MAAAA,IAAI,EAAEK,QAAQ,CAACK;AAAhB,KAAP;AACC,GARD,CAQC,OAAMC,KAAN,EAAa;AACV,QAAGA,KAAK,CAACN,QAAN,CAAeO,MAAf,KAA0B,GAA7B,EAAkC;AAC9B,aAAO;AAACZ,QAAAA,IAAI,EAAE;AAAP,OAAP;AACH;AACJ;AACJ,CAhBD;;AAkBA,eAAeD,IAAf","sourcesContent":["import Layout from '../../components/Layout';\r\nimport axios from 'axios';\r\nimport {API} from '../../config';\r\nimport {getCookie} from '../../helpers/auth';\r\n\r\nconst User = ({ user }) => <Layout>{JSON.stringify(user)}</Layout>;\r\n\r\nUser.getInitialProps = async() => {\r\n    const token = getCookie('token')\r\n\r\n    try{\r\n        const response = await axios.get(`${API}/user`, {\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                contentType: 'application/json'\r\n            }\r\n        })\r\n    return {user: response.data}    \r\n    }catch(error) {\r\n        if(error.response.status === 401) {\r\n            return {user: 'no user'}\r\n        }\r\n    }\r\n};\r\n\r\nexport default User;"]},"metadata":{},"sourceType":"module"}