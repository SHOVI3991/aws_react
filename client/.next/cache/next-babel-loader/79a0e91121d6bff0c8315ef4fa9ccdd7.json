{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\mca6\\\\aws_react\\\\client\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport Layout from '../components/Layout';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { API } from '../config';\nimport Link from 'next/link';\n\nconst Home = ({\n  categories\n}) => {\n  const {\n    0: popular,\n    1: setPopular\n  } = useState([]);\n  useEffect(() => {\n    loadPopular();\n  }, []);\n\n  const loadPopular = async () => {\n    const response = await axios.get(`${API}/link/popular`);\n    setPopular(response.data);\n  };\n\n  const handleClick = async linkId => {\n    const response = await axios.put(`${API}/click-count`, {\n      linkId\n    });\n    loadPopular();\n  };\n\n  const listOfLinks = () => popular.map((l, i) => __jsx(\"div\", {\n    key: i,\n    className: \"row alert alert-secondary p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-8\",\n    onClick: () => handleClick(l._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    href: l.url,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, __jsx(\"h5\", {\n    className: \"pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, l.title), __jsx(\"h6\", {\n    className: \"pt-2 text-danger\",\n    style: {\n      fontSize: '12px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, l.url))), __jsx(\"div\", {\n    className: \"col-md-4 pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, moment(l.createdAt).fromNow(), \" by \", l.postedBy.name)), __jsx(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"badge text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, l.type, \" \", l.medium), l.categories.map((c, i) => __jsx(\"span\", {\n    key: i,\n    className: \"badge text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 50\n    }\n  }, c.name)), __jsx(\"span\", {\n    className: \"badge text-secondary pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, l.clicks, \" clicks\"))));\n\n  const listCategories = () => categories.map((c, i) => __jsx(Link, {\n    href: `/links/${c.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }\n  }, __jsx(\"a\", {\n    style: {\n      border: '1px solid red'\n    },\n    className: \"bg-light p-3 col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: c.image && c.image.url,\n    alt: c.name,\n    style: {\n      width: '100px',\n      height: '50px'\n    },\n    className: \"pr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, c.name)))))));\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    className: \"font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Browse Tutorials/Courses\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, listCategories()), __jsx(\"div\", {\n    className: \"row pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    className: \"font-weight-bold pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Trending\"), __jsx(\"div\", {\n    className: \"col-md-12 overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, listOfLinks())));\n};\n\nHome.getInitialProps = async () => {\n  const response = await axios.get(`${API}/categories`);\n  return {\n    categories: response.data\n  };\n};\n\nexport default Home;","map":{"version":3,"sources":["D:/react/mca6/aws_react/client/pages/index.js"],"names":["useEffect","useState","Layout","axios","moment","API","Link","Home","categories","popular","setPopular","loadPopular","response","get","data","handleClick","linkId","put","listOfLinks","map","l","i","_id","url","title","fontSize","createdAt","fromNow","postedBy","name","type","medium","c","clicks","listCategories","slug","border","image","width","height","getInitialProps"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react';\r\nimport Layout from '../components/Layout';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { API } from '../config';\r\nimport Link from 'next/link';\r\n\r\n\r\nconst Home = ({ categories }) => {\r\n    const [popular, setPopular] = useState([])\r\n\r\n    useEffect(() => {\r\n        loadPopular()\r\n    }, []);\r\n\r\n\r\n\r\n\r\n    const loadPopular = async () => {\r\n        const response = await axios.get(`${API}/link/popular`);\r\n        setPopular(response.data);\r\n    };\r\n\r\n    const handleClick = async (linkId) => {\r\n        const response = await axios.put(`${API}/click-count`, {linkId});\r\n        loadPopular();\r\n    };\r\n\r\n    const listOfLinks = () => \r\n        popular.map((l, i) => (\r\n            <div key={i} className=\"row alert alert-secondary p-2\">\r\n                <div className=\"col-md-8\" onClick={() => handleClick(l._id)}>\r\n                <a href={l.url} target=\"_blank\">\r\n                    <h5 className=\"pt-2\">{l.title}</h5>\r\n                    <h6 className=\"pt-2 text-danger\" style={{ fontSize: '12px' }}>\r\n                        {l.url}\r\n                    </h6>\r\n                </a>\r\n                </div>\r\n                <div className=\"col-md-4 pt-2\">\r\n                    <span className=\"pull-right\">\r\n                        {moment(l.createdAt).fromNow()} by {l.postedBy.name}\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <span className=\"badge text-dark\">{l.type} {l.medium}</span>\r\n                    {l.categories.map((c, i) => (<span key={i} className=\"badge text-success\">{c.name}</span>))}\r\n                    <span className=\"badge text-secondary pull-right\">{l.clicks} clicks</span>\r\n                </div>\r\n            </div>\r\n        ));\r\n    \r\n    const listCategories = () => \r\n    categories.map((c, i) => (\r\n       <Link href={`/links/${c.slug}`}>\r\n           <a style={{ border: '1px solid red' }} className='bg-light p-3 col-md-4'>\r\n               <div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n                            <img src={c.image && c.image.url} \r\n                            alt={c.name} \r\n                            style={{width: '100px', height: '50px'}} \r\n                            className=\"pr-3\"                           \r\n                            />\r\n                        </div>\r\n                        <div className=\"col-md-8\">\r\n                            <h3>{c.name}</h3>\r\n                        </div>    \r\n                    </div>    \r\n               </div>   \r\n           </a>\r\n       </Link> \r\n    ));\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <h1 className=\"font-weight-bold\">Browse Tutorials/Courses</h1>\r\n                    <br />\r\n                </div>\r\n            </div>\r\n\r\n    <div className=\"row\">{listCategories()}</div>\r\n\r\n    <div className=\"row pt-5\">\r\n        <h2 className=\"font-weight-bold pb-3\">Trending</h2>\r\n        <div className=\"col-md-12 overflow-hidden\">{listOfLinks()}</div>\r\n    </div>\r\n    </Layout>\r\n    );\r\n};\r\n\r\nHome.getInitialProps = async () => {\r\n    const response = await axios.get(`${API}/categories`);\r\n    return {\r\n        categories: response.data\r\n    };\r\n};\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}